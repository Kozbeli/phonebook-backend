{"version":3,"sources":["components/filter.js","components/personForm.js","service/persons.js","components/Notification.js","components/Persons.js","App.js","index.js"],"names":["Filter","filter","handleFilterChange","value","onChange","Form","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","then","response","data","newObject","post","person","id","put","delete","Notification","message","errorType","className","Persons","persons","remove","rows","map","name","number","onClick","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","setErrorType","useEffect","personService","initialPersons","personsToShow","length","toLowerCase","includes","notificate","setTimeout","event","target","preventDefault","personObject","some","window","confirm","find","p","changedPerson","returnedPerson","catch","error","concat","console","log","index","indexOf","copy","splice","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9008c8ab.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter,handleFilterChange}) => {\n    return (\n      <div>\n          filter shown with: <input\n            value={filter}\n            onChange={handleFilterChange}\n          />\n        </div>\n    )\n  }\n\n  export default Filter","import React from 'react'\n\nconst Form = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <div>\n                name: <input\n                    value={props.newName}\n                    onChange={props.handleNameChange}\n                />\n            </div>\n            <div>\n                number: <input\n                    value={props.newNumber}\n                    onChange={props.handleNumberChange}\n                />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form","import axios from 'axios'\n\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => {\n    return response.data\n  })\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => {\n    return response.data\n  })\n}\n\nconst update = (person, id) => {\n  const request = axios.put(`${baseUrl}/${id}`, person)\n  return request.then(response => {\n    return response.data\n  })\n}\n\nconst remove = (person) => {\n  const request = axios.delete(`${baseUrl}/${person.id}`, { person })\n  return request.then(response => {\n    return response.data\n  })\n\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ message, errorType }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={errorType}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\n\nconst Persons = ({ persons, remove }) => {\n  const rows = persons.filter(person => person.id)\n    .map((person) => {\n      return (\n        <li key={person.id}>\n          {person.name} {person.number}\n          <button onClick={() => remove(person.id)}>delete</button>\n        </li>\n      )\n    })\n  return (\n    <ul>{rows}</ul>\n  )\n}\n\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport Filter from './components/filter'\nimport PersonForm from './components/personForm'\nimport personService from './service/persons'\nimport Notification from './components/Notification'\nimport Persons from './components/Persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n  const [errorType, setErrorType] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const deletePerson = id => {\n    const person = persons.find(p => p.id === id)\n    const remove = window.confirm(`Delete ${person.name}?`)\n    if (remove) {\n      personService\n        .remove(person)\n        .then(returnedPerson => {\n          const index = persons.indexOf(person)\n          const copy = [...persons]\n          copy.splice(index, 1);\n          setPersons(copy)\n          notificate(`Removed ${person.name}`, `green`)\n        })\n        .catch(error => {\n          notificate(`Information of ${person.name} has already been removed from server`, `red`)\n        })\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    const exists = persons.some(person => person.name === newName)\n\n    if (exists) {\n\n      const update = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`)\n\n      if (update) {\n        const person = persons.find(p => p.name === newName)\n        const changedPerson = { ...person, number: newNumber }\n        const { id } = person\n\n        personService\n          .update(changedPerson, id)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => (p.id !== id ? p : returnedPerson)))\n            notificate(`Updated ${returnedPerson.name}`, `green`)\n          })\n          .catch(error => {\n            notificate(`Information of ${person.name} has already been removed from server`, `red`)\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          notificate(`Added ${returnedPerson.name}`, `green`)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          notificate(`${error.response.data.error}`, 'red')\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const personsToShow = (filter.length === 0)\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  const notificate = (message, errorType) => {\n    setErrorMessage(message)\n    setErrorType(errorType)\n    setTimeout(() => {\n      setErrorMessage(null)\n      setErrorType(null)\n    }, 5000)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={errorMessage}\n        errorType={errorType}\n      />\n      <Filter\n        filter={filter}\n        handleFilterChange={handleFilterChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={personsToShow}\n        remove={deletePerson}\n      />\n    </div>\n  )\n}\n\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}